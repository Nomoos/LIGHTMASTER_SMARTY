<?php/** * Smarty plugin * @package Smarty * @subpackage PluginsFunction *//** * Smarty {pagination} function plugin * * Type:     function<br> * Name:     message<br> * Date:     Jun 20, 2013 * Purpose:  vytvoreni hlasky * * Params: * <pre> * - msg        - (required) - zprava pro zobrazeni muze byt array, string * - type       - (optional) - typ zpravy: *                             * info : informacni hlaska (default) *                             * error : chybova hlaska * - delay      - (optional) - po jake dobe zprava zmizi nutne JQUERY * </pre> * Examples: * <pre> * {message msg="Ahoj jak se vede"} * {message msg=$err type="error"} * </pre> * * @version 1.0 *  * @author Matez * @param array                    $params   parameters * @param Smarty_Internal_Template $template template object * @return string */function smarty_function_message($params, $template) {    if (!empty($params['msg'])) {        if (empty($params['type'])) {            $type = "info";        } else {            $type = $params['type'];        }        $id_rnd = rand(0, 50);        if ($type == "error") {            $message = '<div class = "alert alert-danger">                            <button type = "button" class = "close" data-dismiss = "alert"><i class = "icon-remove"></i></button>                            <strong><i class = "icon-remove"></i>Upozornění!</strong>                            <br />';        } elseif ($type == "warning") {            $message = '<div class = "alert alert-warning">                            <button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>                            <strong>Oznámení</strong>                            <br />';        } elseif ($type == "success") {            $message = '<div class = "alert alert-success">                            <button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>                            <strong><i class="icon-ok"></i>Oznámení</strong>                            <br />';        } else{            //vychozi typ je info            $message = '<div class = "alert alert-info">                            <button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>                            <strong>Oznámení</strong>                            <br />';        }         if (is_array($params['msg'])) {            foreach ($params['msg'] AS $it) {                $message .= $it . '<br />';            }        } else {            $message .= $params['msg'] . '<br />';        }        $message .= '        </div>';        if ($params['delay']) {            $message .= '<script>                $(function () {                    $("#msg-box' . $id_rnd . '").show(0).delay(' . $params['delay'] . ').fadeOut("slow");                });                </script>';        }        return $message;    }}?>