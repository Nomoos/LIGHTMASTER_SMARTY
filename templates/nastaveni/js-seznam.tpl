<script src="{$setup.adm.www}assets/js/jquery.nestable.min.js"></script><script src="{$setup.adm.www}assets/js/jquery.gritter.min.js"></script><script type="text/javascript">    function saveUpdate() {        var data = JSON.stringify( $('#nestable').nestable('serialize') );        $.post("{$setup.request_url}", { 'function': 'sort', 'data': data },        function(ret) {            if(ret == 'ok'){                $.gritter.add({                        title: 'Výsledek operace na pozadí',                        text: 'Vše proběhlo v pořádku',                        class_name: 'gritter-success',                        time: 1500                });            }else{                $.gritter.add({                        title: 'Výsledek operace na pozadí',                        text: 'Vyskytla se chyba zkuste to opakovat později',                        class_name: 'gritter-error',                        time: 1500                });            }        }        );    };        jQuery(function($) {        $('#nestable').nestable({            maxDepth: 2        }).on('change', saveUpdate);        $('#nestable').nestable('collapseAll');        $('.dd-handle a').on('mousedown', function(e) {            e.stopPropagation();        });    });</script>